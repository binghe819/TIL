<img src="/Users/kimbyeonghwa/Library/Mobile Documents/com~apple~CloudDocs/TIL/OOP/객체지향의 사실과 오해/image/51040273.jpg" alt="51040273" width="300" />

[객체지향의 사실과 오해](http://www.yes24.com/Product/Goods/18249021)를 바탕으로 정리한 자료입니다.







# 목차







# 5장 책임과 메시지

> 의도는 "메시징"이다. 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 모듈이 어떻게 커뮤니케이션하는가에 달려있다. - 앨런 케이 -



🙋‍♂️ 훌륭한 객체지향의 세계는 **명확하게 정의된 역할과 책임**을 지닌 객체들이 상호 협력하는 세계다.

* 현실세계
  * 현실세계에서 사건에 대한 목격자가 많으면 많을 수록 개인이 느끼는 책임감은 적어진다.
  * 명확한 책임이 개인에게 주어진다면 사건을 쉽게 해결할 수 있을 것이다.



## 1 자율적인 책임

🤔 ***자율성***이란?

* 자기 **스스로의 원칙**에 따라 어떤 일을 하거나 자신을 통제해서 절제하는 성질이나 특성

  

🤔 ***자율적인 객체***란?

* **스스로 정한 원칙**에 따라 판단하고 **스스로의 의지**를 기반으로 행동하는 객체
* 타인이 정한 규칙이나 명령에 따라 판단하고 행동하는 객체는 자율적인 객체가 아니다.

  

💁‍♂️ 협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정한다.



### 1-1 책임이 너무 구체적이면 안된다

💁‍♂️ 객체가 책임을 자율적으로 수행하기 위해서는 객체에게 할당되는 책임이 자율적이어야 한다.

  

😎 자유로운 객체의 예시

<img src="./image/image-20200831014312570.png" width="650" />

* `모자 장수`는 증언할 책임이 있지만 증언을 위한 **구체적인 방법이나 절차에 대해서는 자유를 누린다.**
  * `모자 장수`가 기록해놓은 수첩을 통해 증언하든, 기억을 되돌아봐 증언하든 자유이다.
* **중요한 것은 `왕`은 `모자 장수`가 무엇을 하든 신경쓰지 않는다는 것이다.**



😱 자유롭지 않은 객체의 예시

<img src="./image/image-20200831014742943.png" width="650" />

* `왕`은 `모자 장수`에게 좀 더 상세한 수준의 요청을 한다.
* 자유롭지 않다.
  * **문제는 이 책임들이 `모자 장수`가 증언하기 위해 선택할 수 있는 자유의 범위를 지나치게 제한한다.**
  * `모자 장수`는 책임을 수행하기 위해 자신의 의지나 판단력이 아닌 **`왕`에게 의존**해야 한다.



### 1-2 책임이 너무 추상적이어도 안된다

💁‍♂️ **포괄적이고 추상적인 책임을 선택한다고 해서 무조건 좋은 것은 아니다.**  

  

<img src="./image/image-20200831022316112.png" width="650" />

* ***책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 한다.***



### 1-3 '어떻게'가 아니라 '무엇'을

💁‍♂️ **자율적인 책임**의 특징은 객체가 **'어떻게(How)'**해야 하는가가 아니라 **'무엇(What)'**을 해야하는 가를 설명한다.

* **'증언하라'라는 책임은 `모자 장수`가 협력을 위해 `무엇`을 해야하는지는 결정하지만 `어떻게`는 결정하지 않는다.**



💁‍♂️ 책임을 수행하는 방법은 객체 자신이 자율적으로 선택할 수 있다. (How는 내맘대로~)



### 1-4 책임을 자극하는 메시지

💁‍♂️ **객체는 다른 객체로부터 전송된 요청을 수신할 때만 어떤 행동을 한다.**

* 객체가 자신에게 할당된 책임을 수행하도록 만드는 것은 외부에서 전달되는 요청이다.








## 2 메시지와 메서드



### 2-1 메시지

<img src="./image/image-20200831134244150.png" width="550" />

🤔 **메시지란?**

* 메시지는 **객체들이 서로 협력**하기 위해 사용할 수 있는 **유일한 의사소통 수단**이다.
* **`객체가 다른 객체에게 접근하는 방법` == `요청을 전송` == `메시지`**
* 메시지는 **"어떻게"**수행 될 것인지는 **명시하지 않고**, **"무엇"이 실행되기를 바라는지만 명시한다.**



🤔 **메시지 전송이란?**

* 메시지-전송 메커니즘은 객체가 다른 객체에 접근할 수 있는 유일한 방법이다.
* 메서드 호출



💁‍♂️ **메시지의 구성**

* 메시지는 3 부분으로 구성된다.
  * 수신자
  * 메시지 이름
  * 인자 : 메시지를 전송할 때 추가적인 정보를 다는데 사용된다.
* 메시지의 예시
  * `모자장수.증언하라(어제, 왕국)`



💁‍♂️ **메시지와 책임**

* 메시지의 개념은 책임과 연결된다.
  * 송신자는 메시지 전송을 통해서만 다른 객체의 책임을 요청하고, 수신자는 오직 메시지 수신을 통해서만 자신의 책임을 수행한다.
  * 즉, **객체가 수신할 수 있는 메시지의 모양이 객체가 수행할 책임의 모양을 결정한다. (인터페이스)**



### 2-2 메서드

🤔 **메서드란?**

* 메시지를 처리하기 위해 선택할 수 있는 방법
* 예시
  * `모자 장수`가 `증언하라`라는 메시지를 처리하기 위해 내부적으로 선택하는 증언 방법



💁‍♂️ **메시지와 메서드**

* `메시지 == 무엇`
  * 메시지는 '어떻게'수행될 것인지는 명시하지 않는다. 단지 '무엇'이 실행되기를 바란다.
* `메서드 == 어떻게`
  * 메서드는 메시지에 따른 '어떻게'를 명시한다. 메서드를 선택하는 것은 전적으로 수신자의 결정이다.



### 2-3 다형성

🤔 **다형성이란?**

* **서로 다른 유형의 객체**가 **동일한 메시지**에 대해 **서로 다르게 반응**하는 것.
* **서로 다른 타입의 객체**들이 **동일한 메시지**를 수신할 경우 **서로 다른 메서드**를 이용해 메시지를 처리할 수 있는 메커니즘



:point_right: **다형성 예시**

<img src="./image/IMG_2DC9B6E6CB7A-1.png" width="350" />

* `모자 장수`, `요리사`, `앨리스`는 증언이라는 책임을 가지므로, `증언하라`라는 메시지를 이해할 수 있다.
* 또한, 각자 자신만의 방법(메서드)로 메시지를 처리한다.



💁‍♂️ **다형성의 본질**

* 서로 다른 객체들이 **다형성을 만족**시킨다는 것은 ***객체들이 동일한 책임을 공유***한다는 것을 의미한다.
* **다형성에서 중요한 것은 메시지 송신자의 관점이다. 동일한 책임을 수행하므로 동일한 메시지를 보낼 수 있다.**



### 2-4 재사용성이 높은 협력

😎 **다형성을 통한 재사용성이 높은 협력**

1. 협력이 유연해진다.
   * 송신자에게 아무런 영향도 미치지 않고 수신자를 교체할 수 있다.

2. 협력이 수행되는 방식을 확장할 수 있다. 
   * 협력에 영향을 미치지않고 수신자를 바꿀 수 있으므로 협력의 세부적인 수행 방식을 쉽게 수정할 수 있다.
3. 협력이 수행되는 방식을 재사용할 수 있다.
   * 협력에 영향을 미치지않고 수신자를 바꿀 수 있으므로 다양한 문맥에서 협력을 재사용할 수 있다.





## 3 메시지를 따라라



### 3-1 객체지향의 핵심, 메시지

😱 **클래스가 중심이 아니다.**

* 초심자가 흔히 하는 클래스를 중심에 두는 설계는 유연하지 못하고 확장하기 어렵다.
* **객체지향은 시스템을 정적인 클래스들의 집합이 아니라 메시지를 주고받는 동적인 객체들의 집합으로 바라보는 것에서 시작된다.**
* 객체지향은 클래스를 이용해 만들어지지만 메시지를 통해 정의된다.



😎 **중요한 것은 메시지다.**

* 객체지향은 자율적인 객체들의 협력을 통해 애플리케이션을 구축하는 것이며, 서로 협력하기 위해 유일한 방법은 메시지를 전송하는 것이다.

* ***객체지향의 중심 사상***은 **메시지를 전송하고 수신하는 객체들** 사이의 **협력 관계**를 기반으로 기능을 제공하는 것이다.



💁‍♂️ **객체가 메시지를 선택하는 것이 아니라 메시지가 객체를 선택하게 해야 한다.**

* 독립된 객체의 상태와 행위에 대해 고민하지 말고 ***객체가 다른 객체에게 제공해야 하는 메시지***에 대해 고민해야한다.
* 훌륭한 객체지향 설계는 메시지 전송과 수신을 통한 협력 관계를 구성하는 것이다.
* **인터페이스를 먼저 생각해라**













