# 목차

<br>

<br>

# 1 주소 공간
* 주소란
  * 서로 다른 위치를 구분하기 위해 사용하는 일련의 숫자로 구성된 단위.
* 컴퓨터는 이진수로 주소를 표현한다.
  * 컴퓨터는 보통 32비트 혹은 64비트의 주소 체계를 사용한다. (운영체제보면 32bit, 64bit가 존재함.)
* 컴퓨터는 byte단위로 메모리 주소를 부여한다.
* 은유
  * 현실에서의 주소: 계층적으로 행정구역을 묶어서 주소를 표현한다. (ex. 서울시 서대문구 이화여대길 52번지)
    * 전체 주소 중 52번지는 건물 번호처럼 자세한 주소를 나타낸다.
  * 컴퓨터에서의 주소: 4KB(2^12바이트) 단위로 묶어서 페이지라는 행정구역을 묶어서 주소를 표현한다.
    * 32비트의 주소 중 하위 12비트(하나의 페이지)는 페이지 내에서의 주소를 나타내게 된다.

<br>

# 2 주소 바인딩
* 논리적 주소 (가상 주소)
  * 메모리에 적재되는 프로세스를 위한 독자적인 주소 공간.
  * 논리적 주소는 각 프로세스마다 독립적으로 할당되며 0번지부터 시작된다.
* 물리적 주소
  * 물리적 메모리(RAM)에 실제로 올라가는 위치를 말한다.
  * 낮은 주소 영역에는 운영체제가 올라가고, 높은 주소 영역에는 사용자 프로세스들이 올라간다.
* 주소 바인딩이란?
  * 프로세스가 실행되기 위해선 어쨋든 물리적 메모리에 올라가 있어야 한다.
  * **이렇게 프로세스의 논리적 주소를 물리적 메모리 주소로 연결시켜주는 작업을 주소 바인딩이라고 한다.**
* 주소 바인딩의 방식 3가지
  * 컴파일 타임 바인딩: 컴파일 시점에 해당 프로그램이 물리적 메모리의 몇 번지에 위치할 것인지 결정.
    * 프로그램이 절대주소로 적재된다는 의미. 주소를 변경하기 위해선 다시 컴파일 해야한다.
  * 로드 타임 바인딩: 프로그램 실행 시점에 로더에 의해 해당 프로그램이 물리적 메모리의 몇 번지에 위치할 것인지 결정.
    * 프로그램이 종료될 때까지 물리적 메모리상의 위치는 고정.
    * 로더 -> 사용자 프로그램을 메모리에 적재시키는 프로그램.
  * 실행시간 바인딩: 프로그램이 실행을 시작한 후에도 그 프로그램이 위치한 물리적 메모리 상의 주소가 변경될 수 있는 방식.
    * CPU가 메모리를 참조할 때마다 물리적 메모리에서 주소 매핑 테이블을 이용하여 데이터의 위치를 찾는다.
    * 이를 위해선 기준 레지스터, 한계 레지스터, MMU(Memory Management Unit)라는 하드웨어의 지원이 필요하다.

<br>

**MMU 기법**

<p align="center"><img src="./image/"> </p>

* 물리적 주소 + 기준 레지스터 값 = 물리적 주소
  * CPU가 논리적 주소를 참조하려고 할 때 MMU기법은 그 주소값에 기준 레지스터의 값을 더해 물리적 주소값을 얻어낸다.
  * 즉, MMU기법에서는 프로그램의 주소 공간이 물리적 메모리의 한 장소에 연속적으로 적재되는 것으로 가정한다.
* 기준 레지스터 (재배치 레지스터): 현재 CPU에서 수행 중인 프로세스의 물리적 메모리 시작 주소가 저장되어 있다.

<br>

# 3 메모리 관리와 관련된 용어
* 동적로딩은 프로세스가 시작될 때 그 프로세스의 주소 공간 전체를 메모리에 모두 올려놓는 것이 아니라 해당 부분이 불릴 때만 올려놓기 때문에 보다 효율적으로 메모리를 사용할 수 있습니다. 예를 들어 에러처리와 같은 코드들을 실제로 많이 사용되지 않으므로 내려놓고 있다가 필요할 때만 올리게됩니다.
* 동적연결은 라이브러리 함수가 호출되는 시점에 라이브러리에 대한 연결이 이루어집니다. 동적연결은 다수의 프로그램이 공통으로 사용하는 라이브러리를 메모리에 한 번만 적재하므로 메모리 사용의 효율성을 높일 수 있습니다.
* 중첩(overlay)란 프로세스의 주소 공간을 분할해 실제 필요한 부분만을 메모리에 적재하는 기법입니다. 동적로딩과는 개념적으로 유사하나 사용하는 이유가 다릅니다. 중첩은 초창기 컴퓨터 시스템에서 물리적 메모리가 부족한 상황으로 인해 하나의 프로세스조차도 메모리에 올릴 수 없을 때 사용하던 기법인 반면, 동적로딩은 다중프로그래밍 환경에서 메모리 이용률을 높이기 위해서 사용하는 기법입니다.
* 스와핑(swapping)이란 메모리에 올라온 프로세스의 주소 공간 전체를 디스크의 스왑 영역(= 백킹스토어: backing store)에 일시적으로 내려놓는 것을 말합니다. 스와핑은 swap in과 swap out으로 나뉘며, 중기 스케줄러에 의해 발생합니다.

https://woomin.netlify.app/Study/2021-01-09-OS-Ban-3/
